このサイトのコーディングにあたって気をつけたことをまとめました。
改変していただいても大丈夫です。

# 基本

- HTML5
    - セマンティックなコーディングを心がける。
        - navやheader,footerなど意味のあるコンテンツは適切なタグを使う。
        - 逆にレイアウト目的のみで、意味のないtableやdlタグ等を使わない。
        - ただし、どのタグが適切かわからない場合はdivを使用して構わない。
    - コンテンツモデルに沿って適切にタグを使う。[[cf]](https://webgoto.net/html5/)
- CSS3
    - scssを使用。
    - 設計はFLOCSSを採用。

## 記述方法

- インデントは半角スペース2個分。

# HTML

## 画像について

- 必須：src属性、alt属性、width属性、height属性
    - alt: リーダーで読んだ際にわかるよう、文章で説明する。装飾目的の画像は極力CSSで背景扱いにするのが望ましいが、HTMLで読み込む場合はaltの中身は空でも良い。
    - width,height: 単位はつけない。レンダリングの際に、ガタつく(レイアウトシフト)のを防ぐために設定。
    - パフォーマンス向上のために `loading="lazy"` をつける。もしくは `decoding="async"` 。

### レスポンシブ画像

- HTML5.1より標準となった、pictureタグによる出しわけを行う。
    - classで.spの時 display:none; のように出し分けると、対象デバイスでなくともソースを読み込んでしまい、読み込みを遅くさせる原因となるため。

# CSS

## SCSSについて

- モジュールバンドラ(ここではタスクランナー)を用いているので（最終的に1つのファイルになる）、運用のしやすさを重視してモジュールごとにファイルを分割する。
    - この辺の分割の基準は、分かれていたら使いやすいなと思ったらで良い。無理に分割する必要もない。
- 検索性を損ねないため、ネストはできるだけ1回まで、どんなに深くても2回までとする。
    - ネストして良い場合：基本的にmodifier(—secondaryなど)や、 ::before/::after, :nth-child/:nth-of-type などの擬似要素
    - ネストしない方が良い場合：単なるelement要素
        - 例) 下記の場合は、ネストする意味がない。

        ```
        // NG: 記述量が減るが見やすさと検索性が損なわれる。無駄に詳細度を高めてしまうので保守的にもよくない。
        .nav {
          position: relative;
          &__list {
            display: flex;
            .nav__item {
        			flex: 1;
        			&--strong {
        				font-size: 1.1em;
        			}
            }
          }
        }

        // OK: 簡潔。
        .nav {
          position: relative;
        }
        .nav__list {
          display: flex;
        }
        .nav__item {
        	flex: 1;
          &--strong {
        		font-size: 1.1em;
        	}
        }
        ```

## FLOCSSについて [[Doc](https://github.com/hiloki/flocss)]

- Foundation…ページの下地としての全体の背景や、基本的なタイポグラフィなどが該当。reset.cssなども
- Layout…ページを構成するヘッダーやメインのコンテンツエリア、サイドバーやフッターといったプロジェクト共通のコンテナーブロックのスタイルを定義。
- Object
    - Component…再利用できるパターンとして、小さな単位のモジュールを定義。
    - Project…プロジェクト固有のパターンであり、いくつかのComponentと、それに該当しない要素によって構成されるものを定義。
    - Utility…わずかなスタイルの調整のための便利クラスなどを定義。
- JS制御用のclass…SMACSSのstateに習い、is-activeなどを採用。

## 命名規則

- FLOCSSのDocに習い、MindBEMdingを採用。

## 設計について

- WEB制作に関しては、ページや意味ごとのまとまりに対し1つのprojectクラス群を生成する。
    - 例) コラムページとニュースページは、最初のコーディングではレイアウトやデザインに差分がなくとも、別々のクラスをつける。p-column, p-newsなど。
    - 理由は、今は差分がなくても、今後改修によって発生する可能性が高いから。
    - ほとんど変わらない共通のスタイリングについては、mixinで共通化してそれぞれ読み込むようにする。

    ```scss
    // 例
    @mixin contentStyle {
      display: flex;
      width: 100%;
      color: #333;
    }

    .p-column {
      @include contentStyle;
    }

    .p-news {
      @include contentStyle;
      line-height: 1.8;
    }

    ```

- 3回以上同じソースが使われるようなら、保守性・拡張性を高めるためにmixinによる共通化を考える。

# 命名についての例

- リストアイテム
    - `__list` : 複数のliまたはそれに準ずる要素を内包するwrapper要素。
        - ex) ul要素
    - `__item` : 上記listの中身を構成する1つ1つの要素。
        - ex) li要素

        ```html
        <ul class="nav__list">
        	<li class="nav__item"></li>
        	<li class="nav__item"></li>
        	<li class="nav__item"></li>
        </ul>
        ```

- `__box` : 同様の情報を含む横並び(縦でも)の要素の塊。カラムアイテム。親要素にflexやgridを持つもの。
- レベル違いのmodifier。ボタンやタイトルを表すclass名などに適用。
    - `--primary` : 1番重要なレベル。
    - `--secondary` : 2番目に重要なレベル。
    - `--third` : 3番目に重要なレベル。
    - `--default` ：デフォルトの値。modifier要らないようだが、あえてつけることで「modifierによる拡張が可能」なことを明示できるので運用によっては設定。

# 余白の作り方
- 基本的に、コンテンツ同士など、大きなまとまりの前後の余白は、そのコンテンツ自身には持たせない。
  - コンテンツの順序が変わる、ちょっとした注釈を後に入れるなど、前後関係等が変わった場合にレイアウトが崩れやすいから。
  - 補足：リスト要素など、順番が決まっているものについてはこんな感じで固有の値をもたせても良い。
  ```sass
    .c-list__item {
      & + & {
        margin-top: 1rem;
      }
    }
  ```
- そのため、余白用の `ユーティリティクラス` (FLOCSSのutility内に記述)を設けている。
  - 例) `u-mgb-xl` `u-mgt-s` など。
  - 要素のclass名にこれを適用したり、空のdiv要素にこのclass名だけをつけることで、可搬性の高い（移動させやすい）余白が作れる。
  - l, m, sなどにしているのは、後から「サイト全体の余白間を変えたい」「こことここの余白はこのままでいいんだけど、こっちはもう少し小さくしたい」とかなったときに、変数をいじれば済むようにするため。